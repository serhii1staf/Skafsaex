<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <title>–ù–æ–≤–æ–≥–æ–¥–Ω–µ–µ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Existing styles remain unchanged */
        
        /* Updated chat styles */
        .chat-input-container {
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            display: flex;
            gap: 8px;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            transition: transform 0.3s ease;
        }

        .chat-input-container.keyboard-open {
            transform: translateY(-300px);
        }

        .chat-input {
            flex: 1;
            min-height: 36px;
            max-height: 200px;
            padding: 8px 12px;
            border: none;
            border-radius: 18px;
            background: rgba(255, 255, 255, 0.9);
            font-size: 16px;
            color: #000;
            outline: none;
            resize: none;
            line-height: 20px;
            transition: all 0.2s ease;
        }

        .chat-input::placeholder {
            color: rgba(0, 0, 0, 0.5);
        }

        .chat-header {
            background: rgba(255, 255, 255, 0.15);
            padding: 15px;
            text-align: center;
            border-radius: 0 0 12px 12px;
            backdrop-filter: blur(5px);
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin: 60px 0 70px 0;
            -webkit-overflow-scrolling: touch;
        }

        .chat-message {
            max-width: 80%;
            padding: 8px 12px;
            border-radius: 12px;
            margin: 2px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .user-message {
            background: rgba(0, 123, 255, 0.4);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }

        .ai-message {
            background: rgba(255, 255, 255, 0.4);
            color: black;
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }

        @keyframes slideUp {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }

        @keyframes slideDown {
            from { transform: translateY(0); }
            to { transform: translateY(100%); }
        }

        /* Rest of existing styles remain unchanged */
    </style>
</head>
<!-- Rest of the HTML remains exactly the same until the script section -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Existing code remains unchanged
        
        // Add keyboard handling
        const chatInput = document.getElementById('chatInput');
        const chatContainer = document.querySelector('.chat-input-container');
        
        chatInput.addEventListener('focus', () => {
            chatContainer.classList.add('keyboard-open');
            setTimeout(() => {
                const messages = document.getElementById('chatMessages');
                messages.scrollTop = messages.scrollHeight;
            }, 300);
        });

        document.addEventListener('dblclick', (e) => {
            if (!e.target.closest('.chat-input-container') && !e.target.closest('.chat-message')) {
                chatInput.blur();
                chatContainer.classList.remove('keyboard-open');
            }
        });

        // Existing event listeners and functions remain unchanged
    });
</script>
    document.addEventListener('DOMContentLoaded', function() {
        // Previous code remains exactly the same until the chat input handling
        
        const chatInput = document.getElementById('chatInput');
        const chatContainer = document.querySelector('.chat-input-container');
        
        if (chatInput && chatContainer) {
            chatInput.addEventListener('focus', () => {
                chatContainer.classList.add('keyboard-open');
                setTimeout(() => {
                    const messages = document.getElementById('chatMessages');
                    if (messages) {
                        messages.scrollTop = messages.scrollHeight;
                    }
                }, 300);
            });

            document.addEventListener('dblclick', (e) => {
                if (!e.target.closest('.chat-input-container') && !e.target.closest('.chat-message')) {
                    chatInput.blur();
                    chatContainer.classList.remove('keyboard-open');
                }
            });

            // Prevent keyboard from closing on input tap
            chatInput.addEventListener('click', (e) => {
                e.stopPropagation();
            });
        }

        // Rest of the existing code remains exactly the same
        [Rest of the script content remains unchanged...]
    });
</script>
</head>
<body>
    <div id="app">
        <div id="homeScreen" class="screen active">
            <div class="message">
                <h1>–° –ù–æ–≤—ã–º 2025 –ì–æ–¥–æ–º!</h1>
                <p>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–π</p>
            </div>
        </div>

        <div id="leftScreen" class="screen">
            <div class="message">
                <p>–°—Ç–∞—Ä—ã–π 2024 –≥–æ–¥ —É—à–µ–ª –∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–µ—Ä–Ω–µ—Ç—Å—è.</p>
                <p>–í—Ä–µ–º—è –¥–ª—è –Ω–æ–≤—ã—Ö –Ω–∞—á–∏–Ω–∞–Ω–∏–π!</p>
            </div>
        </div>

        <div id="rightScreen" class="screen">
            <div class="message">
                <h1>–° 2025 –ì–æ–¥–æ–º!</h1>
                <p>–ü—É—Å—Ç—å —ç—Ç–æ—Ç –≥–æ–¥ –ø—Ä–∏–Ω–µ—Å–µ—Ç –º–Ω–æ–≥–æ —Ä–∞–¥–æ—Å—Ç–∏, —Å—á–∞—Å—Ç—å—è –∏ —É—Å–ø–µ—Ö–æ–≤!</p>
            </div>
        </div>

        <div id="profileScreen" class="screen">
            <div class="message">
                <div class="social-links">
                    <a href="https://t.me/sangklasy" class="social-link" target="_blank">üì± Telegram –∫–∞–Ω–∞–ª</a>
                    <a href="https://www.instagram.com/serhii_stafiichuk?igsh=MXRsd2t2Z2I3Mzg2NA==" class="social-link" target="_blank">üì∑ Instagram –∞–∫–∫–∞—É–Ω—Ç</a>
                </div>
                <p class="voluntary-text">* –ü–æ–¥–ø–∏—Å–∫–∞ —è–≤–ª—è–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ–±—Ä–æ–≤–æ–ª—å–Ω–æ–π</p>
            </div>
        </div>

        <div id="articlesScreen" class="screen">
            <div class="articles-container">
                <article data-title="–ü–µ—Ä–µ–º–µ–Ω—ã ‚Äî —ç—Ç–æ –Ω–µ –≤—Å–µ–≥–¥–∞ –Ω–∞—á–∞–ª–æ —á–µ–≥–æ-—Ç–æ –Ω–æ–≤–æ–≥–æ" data-text="–ñ–∏–∑–Ω—å –ø–æ–ª–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω, –∏ –Ω–µ –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤–µ–¥–µ—Ç –∫ —á–µ–º—É-—Ç–æ –ª—É—á—à–µ–º—É –∏–ª–∏ —Ö—É–¥—à–µ–º—É. –ò–Ω–æ–≥–¥–∞ –ø–µ—Ä–µ–º–µ–Ω—ã ‚Äî —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–æ—Å–º—ã—Å–ª–∏—Ç—å –ø—Ä–∏–≤—ã—á–Ω—ã–µ –≤–µ—â–∏. –ü–µ—Ä–µ–º–µ–Ω—ã –º–æ–≥—É—Ç –Ω–∞—É—á–∏—Ç—å –Ω–∞—Å —Ü–µ–Ω–∏—Ç—å —Ç–æ, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å. –ì–ª–∞–≤–Ω–æ–µ –ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ –¥–∞–∂–µ —Å–∞–º—ã–µ —Ç—Ä—É–¥–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω—ã –¥–∞—é—Ç —à–∞–Ω—Å —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è." data-img="https://i.postimg.cc/L64wKP9F/IMG-4758.jpg">
                    <img src="https://i.postimg.cc/L64wKP9F/IMG-4758.jpg" alt="–°—Ç–∞—Ç—å—è 1">
                    <h2>–ü–µ—Ä–µ–º–µ–Ω—ã ‚Äî —ç—Ç–æ –Ω–µ –≤—Å–µ–≥–¥–∞ –Ω–∞—á–∞–ª–æ —á–µ–≥–æ-—Ç–æ –Ω–æ–≤–æ–≥–æ</h2>
                </article>
                <article data-title="–°–∏–ª–∞ –ø—Ä–∏–≤—ã—á–∫–∏: —à–∞–≥ –∫ –º–µ—á—Ç–µ –∏–ª–∏ –ø—Ä–µ–≥—Ä–∞–¥–∞ –Ω–∞ –ø—É—Ç–∏" data-text="–ü—Ä–∏–≤—ã—á–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Å–Ω–æ–≤–æ–π –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–π, –Ω–æ –æ–Ω–∏ —Ç–∞–∫–∂–µ —Å–ø–æ—Å–æ–±–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –Ω–∞—Å, —É–¥–µ—Ä–∂–∏–≤–∞—è –≤ –∑–æ–Ω–µ –∫–æ–º—Ñ–æ—Ä—Ç–∞. –ó–∞–¥–∞–π—Ç–µ —Å–µ–±–µ –≤–æ–ø—Ä–æ—Å: –≤–∞—à–∏ –ø—Ä–∏–≤—ã—á–∫–∏ –ø—Ä–∏–±–ª–∏–∂–∞—é—Ç –≤–∞—Å –∫ –º–µ—á—Ç–µ –∏–ª–∏ –º–µ—à–∞—é—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–ø–µ—Ä–µ–¥? –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø—Ä–∏–≤—ã—á–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –≤–∞—à–∏–º –º–µ—á—Ç–∞–º –∏ —Ü–µ–ª—è–º." data-img="https://i.postimg.cc/J0pT4TrV/IMG-4757.jpg">
                    <img src="https://i.postimg.cc/J0pT4TrV/IMG-4757.jpg" alt="–°—Ç–∞—Ç—å—è 2">
                    <h2>–°–∏–ª–∞ –ø—Ä–∏–≤—ã—á–∫–∏: —à–∞–≥ –∫ –º–µ—á—Ç–µ –∏–ª–∏ –ø—Ä–µ–≥—Ä–∞–¥–∞ –Ω–∞ –ø—É—Ç–∏</h2>
                </article>
                <article data-title="–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –≤–æ–∫—Ä—É–≥ –Ω–∞—Å" data-text="–ò–Ω–æ–≥–¥–∞ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –ø—Ä—è—á–µ—Ç—Å—è –≤ –ø—Ä–æ—Å—Ç—ã—Ö –º–æ–º–µ–Ω—Ç–∞—Ö –∂–∏–∑–Ω–∏: —Ä–∞–∑–≥–æ–≤–æ—Ä —Å –¥—Ä—É–≥–æ–º, –ø—Ä–æ–≥—É–ª–∫–∞ –Ω–∞ –ø—Ä–∏—Ä–æ–¥–µ –∏–ª–∏ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–∞—è –∫–Ω–∏–≥–∞. –í–¥–æ—Ö–Ω–æ–≤–ª—è–π—Ç–µ—Å—å –∫–∞–∂–¥–æ–¥–Ω–µ–≤–Ω—ã–º–∏ –º–æ–º–µ–Ω—Ç–∞–º–∏ –∏ –ø–æ–º–Ω–∏—Ç–µ, —á—Ç–æ –¥–∞–∂–µ —Å–ª—É—á–∞–π–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –º–æ–≥—É—Ç –∏–∑–º–µ–Ω–∏—Ç—å –≤–∞—à—É –∂–∏–∑–Ω—å." data-img="https://i.postimg.cc/vBHfHGcT/IMG-4756.jpg">
                    <img src="https://i.postimg.cc/vBHfHGcT/IMG-4756.jpg" alt="–°—Ç–∞—Ç—å—è 3">
                    <h2>–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –≤–æ–∫—Ä—É–≥ –Ω–∞—Å</h2>
                </article>
                <article data-title="–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ —Ä–∞–¥–æ—Å—Ç–∏" data-text="–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–¥ –Ω–∞–º–∏ –Ω–æ–≤—ã–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç—ã –∏ –¥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã—Ä–∞–∑–∏—Ç—å —Å–µ–±—è. –°–æ–∑–¥–∞–≤–∞–π—Ç–µ, —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å–æ–º!" data-img="https://i.postimg.cc/Fzkf7zmr/IMG-4755.jpg">
                    <img src="https://i.postimg.cc/Fzkf7zmr/IMG-4755.jpg" alt="–°—Ç–∞—Ç—å—è 4">
                    <h2>–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ —Ä–∞–¥–æ—Å—Ç–∏</h2>
                </article>
                <article data-title="–°–∏–ª–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —à–∞–≥–æ–≤" data-text="–ò–Ω–æ–≥–¥–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ —à–∞–≥–∏ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –±–æ–ª—å—à–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è–º. –ù–µ –±–æ–π—Ç–µ—Å—å –Ω–∞—á–∏–Ω–∞—Ç—å —Å –º–∞–ª–æ–≥–æ –∏ –¥–≤–∏–≥–∞—Ç—å—Å—è –∫ —Å–≤–æ–µ–π —Ü–µ–ª–∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ." data-img="https://i.postimg.cc/HsQw2vDp/IMG-4754.jpg">
                    <img src="https://i.postimg.cc/HsQw2vDp/IMG-4754.jpg" alt="–°—Ç–∞—Ç—å—è 5">
                    <h2>–°–∏–ª–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —à–∞–≥–æ–≤</h2>
                </article>
                <article data-title="–ó–∞–±–æ—Ç–∞ –æ —Å–µ–±–µ" data-text="–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ —Å–µ–±–µ –∏ —Å–≤–æ–∏—Ö –±–ª–∏–∑–∫–∏—Ö. –ó–¥–æ—Ä–æ–≤—å–µ –∏ –±–ª–∞–≥–æ–ø–æ–ª—É—á–∏–µ - —ç—Ç–æ –≤–∞–∂–Ω—ã–µ —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ —Å—á–∞—Å—Ç–ª–∏–≤–æ–π –∂–∏–∑–Ω–∏." data-img="https://i.postimg.cc/PJHxr464/IMG-4753.jpg">
                    <img src="https://i.postimg.cc/PJHxr464/IMG-4753.jpg" alt="–°—Ç–∞—Ç—å—è 6">
                    <h2>–ó–∞–±–æ—Ç–∞ –æ —Å–µ–±–µ</h2>
                </article>
                <article data-title="–£—á–∏—Ç–µ—Å—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å" data-text="–ö–∞–∂–¥—ã–π –¥–µ–Ω—å - —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–∑–Ω–∞—Ç—å —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ. –£—á–∏—Ç–µ—Å—å, —Ä–∞–∑–≤–∏–≤–∞–π—Ç–µ—Å—å –∏ –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ—Å—å –Ω–∞ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ–º." data-img="https://i.postimg.cc/fR1MRCy9/IMG-4752.jpg">
                    <img src="https://i.postimg.cc/fR1MRCy9/IMG-4752.jpg" alt="–°—Ç–∞—Ç—å—è 7">
                    <h2>–£—á–∏—Ç–µ—Å—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</h2>
                </article>
                <article data-title="–°–∏–ª–∞ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–≥–æ –º—ã—à–ª–µ–Ω–∏—è" data-text="–ü–æ–∑–∏—Ç–∏–≤–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–µ–æ–¥–æ–ª–µ–≤–∞—Ç—å —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ –∏ –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–ø–µ—Ä–µ–¥. –°–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –∂–∏–∑–Ω—å —Å –æ–ø—Ç–∏–º–∏–∑–º–æ–º –∏ –≤–µ—Ä—å—Ç–µ –≤ –ª—É—á—à–µ–µ." data-img="https://i.postimg.cc/1t92mVGF/IMG-4751.jpg">
                    <img src="https://i.postimg.cc/1t92mVGF/IMG-4751.jpg" alt="–°—Ç–∞—Ç—å—è 8">
                    <h2>–°–∏–ª–∞ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–≥–æ –º—ã—à–ª–µ–Ω–∏—è</h2>
                </article>
                <article data-title="–ë—É–¥—å—Ç–µ –±–ª–∞–≥–æ–¥–∞—Ä–Ω—ã" data-text="–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å - —ç—Ç–æ –∫–ª—é—á –∫ —Å—á–∞—Å—Ç—å—é. –ù–∞—Ö–æ–¥–∏—Ç–µ –ø–æ–≤–æ–¥—ã –¥–ª—è –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –∏ —Ü–µ–Ω–∏—Ç–µ —Ç–æ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å." data-img="https://i.postimg.cc/mD5wvP8B/IMG-4750.jpg">
                    <img src="https://i.postimg.cc/mD5wvP8B/IMG-4750.jpg" alt="–°—Ç–∞—Ç—å—è 9">
                    <h2>–ë—É–¥—å—Ç–µ –±–ª–∞–≥–æ–¥–∞—Ä–Ω—ã</h2>
                </article>
                <article data-title="–ñ–∏–≤–∏—Ç–µ –Ω–∞—Å—Ç–æ—è—â–∏–º" data-text="–ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –∫–∞–∂–¥—ã–º –º–æ–º–µ–Ω—Ç–æ–º –∏ –∂–∏–≤–∏—Ç–µ –Ω–∞—Å—Ç–æ—è—â–∏–º. –ü—Ä–æ—à–ª–æ–µ —É–∂–µ –ø—Ä–æ—à–ª–æ, –∞ –±—É–¥—É—â–µ–µ –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—É–ø–∏–ª–æ." data-img="https://i.postimg.cc/fys40gQV/IMG-4759.jpg">
                    <img src="https://i.postimg.cc/fys40gQV/IMG-4759.jpg" alt="–°—Ç–∞—Ç—å—è 10">
                    <h2>–ñ–∏–≤–∏—Ç–µ –Ω–∞—Å—Ç–æ—è—â–∏–º</h2>
                </article>
            </div>
        </div>

        <!-- New AI Chat Screen -->
        <div id="aiChatScreen" class="screen">
            <div class="chat-header">
                <h2>–û–±—â–µ–Ω–∏–µ —Å Pae AI</h2>
            </div>
            <div class="chat-messages" id="chatMessages">
                <!-- Messages will be added here dynamically -->
            </div>
            <div class="chat-input-container">
                <input type="text" class="chat-input" id="chatInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
                <button class="send-button" id="sendMessage">
                    <i class="fa-solid fa-paper-plane"></i>
                </button>
            </div>
            <button class="close-btn" id="closeAiChat">√ó</button>
        </div>

        <div class="nav-buttons">
            <button id="leftBtn" class="nav-btn">‚Üê</button>
            <button id="aiBtn" class="nav-btn"><i class="fa-solid fa-comment"></i></button>
            <div class="nav-center-group">
                <button id="homeBtn" class="nav-btn"></button>
                <button id="profileBtn" class="nav-btn"></button>
                <button id="articlesBtn" class="nav-btn"><i class="fa-solid fa-newspaper"></i></button>
            </div>
            <button id="rightBtn" class="nav-btn">‚Üí</button>
        </div>
    </div>

    <div id="articleModal" class="article-modal">
        <div class="article-modal-content">
            <button class="close-btn" id="closeArticleModal">√ó</button>
            <img id="modalImage" src="" alt="Article Image" class="article-image">
            <h2 id="modalTitle"></h2>
            <p id="modalText"></p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const screens = {
                home: document.getElementById('homeScreen'),
                left: document.getElementById('leftScreen'),
                right: document.getElementById('rightScreen'),
                profile: document.getElementById('profileScreen'),
                articles: document.getElementById('articlesScreen'),
                aiChat: document.getElementById('aiChatScreen')
            };

            const buttons = {
                home: document.getElementById('homeBtn'),
                left: document.getElementById('leftBtn'),
                right: document.getElementById('rightBtn'),
                profile: document.getElementById('profileBtn'),
                articles: document.getElementById('articlesBtn'),
                ai: document.getElementById('aiBtn'),
                close: document.getElementById('closeArticleModal'),
                closeAiChat: document.getElementById('closeAiChat')
            };

            let currentScreen = 'home';
            let isAnimating = false;
            let closeTimeout;

            function showScreen(screenName) {
                if (isAnimating) return;
                isAnimating = true;

                screens[currentScreen].classList.remove('active');
                screens[screenName].classList.add('active');

                if (screenName === 'articles') {
                    buttons.left.style.display = 'none';
                    buttons.right.style.display = 'none';
                    buttons.profile.style.display = 'none';
                    buttons.articles.style.display = 'none';
                    buttons.ai.style.display = 'none';
                    buttons.home.style.margin = '0 auto';
                } else if (screenName === 'aiChat') {
                    document.querySelector('.nav-buttons').style.display = 'none';
                    resetCloseTimeout();
                } else {
                    buttons.left.style.display = 'flex';
                    buttons.right.style.display = 'flex';
                    buttons.profile.style.display = 'flex';
                    buttons.articles.style.display = 'flex';
                    buttons.ai.style.display = 'flex';
                    buttons.home.style.margin = '0';
                    document.querySelector('.nav-buttons').style.display = 'flex';
                }

                currentScreen = screenName;

                setTimeout(() => {
                    isAnimating = false;
                }, 300);
            }

            function resetCloseTimeout() {
                clearTimeout(closeTimeout);
                buttons.closeAiChat.style.display = 'none';
                closeTimeout = setTimeout(() => {
                    buttons.closeAiChat.style.display = 'flex';
                }, 15000);
            }

            function addMessage(text, isUser) {
                const messagesContainer = document.getElementById('chatMessages');
                const messageDiv = document.createElement('div');
                messageDiv.className = `chat-message ${isUser ? 'user-message' : 'ai-message'}`;
                messageDiv.textContent = text;
                messagesContainer.appendChild(messageDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            function handleSendMessage() {
                const input = document.getElementById('chatInput');
                const message = input.value.trim();
                
                if (message) {
                    addMessage(message, true);
                    input.value = '';
                    resetCloseTimeout();

                    // Send message to AI API
                    fetch("https://api.open-assistant.io/v1/chat", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify({
                            message: message
                        })
                    })
                    .then(response => response.json())
                    .then(data => {
                        addMessage(data.response, false);
                    })
                    .catch(error => {
                        console.error('–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:', error);
                        addMessage("–ò–∑–≤–∏–Ω–∏—Ç–µ, –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –≤–∞—à–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.", false);
                    });
                }
            }

            function showArticleDetail(title, text, imgSrc) {
                const modal = document.getElementById('articleModal');
                document.getElementById('modalTitle').textContent = title;
                document.getElementById('modalText').textContent = text;
                document.getElementById('modalImage').src = imgSrc;
                modal.style.display = 'flex';
            }

            function hideArticleDetail() {
                const modal = document.getElementById('articleModal');
                modal.style.display = 'none';
                showScreen('articles');
            }

            // Event Listeners
            buttons.home.addEventListener('click', () => showScreen('home'));
            buttons.left.addEventListener('click', () => showScreen('left'));
            buttons.right.addEventListener('click', () => showScreen('right'));
            buttons.profile.addEventListener('click', () => showScreen('profile'));
            buttons.articles.addEventListener('click', () => showScreen('articles'));
            buttons.ai.addEventListener('click', () => showScreen('aiChat'));
            buttons.close.addEventListener('click', hideArticleDetail);
            buttons.closeAiChat.addEventListener('click', () => showScreen('home'));

            document.getElementById('sendMessage').addEventListener('click', handleSendMessage);
            document.getElementById('chatInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    handleSendMessage();
                }
            });

            document.getElementById('chatInput').addEventListener('input', resetCloseTimeout);

            document.querySelectorAll('#articlesScreen article').forEach(article => {
                article.addEventListener('click', () => {
                    const title = article.getAttribute('data-title');
                    const text = article.getAttribute('data-text');
                    const imgSrc = article.getAttribute('data-img');
                    showArticleDetail(title, text, imgSrc);
                });
            });
        });
    </script>
</body>
</html>
