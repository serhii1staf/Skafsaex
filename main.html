<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Klyo Profile Page</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            margin: 0;
            font-family: 'Arial', sans-serif;
            background-color: #d7e6dc;
            color: #333;
        }
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        .profile-card {
            background-color: white;
            width: 90%;
            max-width: 400px;
            border-radius: 20px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            padding: 20px;
            text-align: center;
        }
        .profile-photo {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin-bottom: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        .greeting {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .subtext {
            font-size: 16px;
            color: #666;
        }
        .widget {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            border-radius: 15px;
            margin: 10px 0;
            background-color: #f5f5f5;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
        }
        .icon-container {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }
        .icon-button {
            background-color: white;
            padding: 15px;
            border-radius: 50%;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .icon-button:hover {
            transform: scale(1.1);
        }
        .icon-button i {
            font-size: 24px;
            color: #555;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="profile-card">
            <img id="profilePhoto" class="profile-photo" src="" alt="User Photo">
            <div class="greeting" id="userName">Добро пожаловать, Пользователь!</div>
            <div class="subtext" id="userInfo">Сегодня четверг, 29 сентября. Температура: 26°C, ясно.</div>
        </div>

        <div class="widget">
            <div>
                <h3>Ваши новости</h3>
                <p>Здесь будут отображаться важные события.</p>
            </div>
            <i class="fa-solid fa-newspaper"></i>
        </div>

        <div class="widget">
            <h3>Погода</h3>
            <div id="weatherInfo">
                <p>26°C ☀️ Ясно</p>
            </div>
        </div>

        <div class="icon-container">
            <div class="icon-button"><i class="fa-regular fa-message"></i></div>
            <div class="icon-button"><i class="fa-regular fa-video"></i></div>
            <div class="icon-button"><i class="fa-regular fa-gear"></i></div>
            <div class="icon-button"><i class="fa-regular fa-house"></i></div>
        </div>
    </div>

    <script>
        async function fetchUserInfo() {
            // Telegram Web App user info fetch (example):
            const user = Telegram.WebApp.initDataUnsafe?.user;
            if (user) {
                document.getElementById('userName').innerText = `Добро пожаловать, ${user.first_name}!`;
                document.getElementById('profilePhoto').src = user.photo_url || 'default-avatar.png';
            }
        }

        async function fetchWeather() {
            const apiKey = 'f828b5cb9dde8e05d490f23ade569731';
            const city = 'Oslo';
            const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&lang=ru&appid=${apiKey}`;

            try {
                const response = await fetch(url);
                const data = await response.json();
                const temperature = data.main.temp;
                const weatherDesc = data.weather[0].description;
                document.getElementById('weatherInfo').innerText = `${temperature}°C, ${weatherDesc}`;
            } catch (error) {
                console.error('Ошибка загрузки погоды:', error);
            }
        }

        fetchUserInfo();
        fetchWeather();
    </script>
</body>
</html>
