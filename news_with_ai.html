<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Актуальная информация</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #2c3e50;
            color: #ecf0f1;
            text-align: center;
            margin: 0;
            padding: 0;
        }
        .content {
            margin: 20px auto;
            max-width: 800px;
        }
        .image-container img {
            width: 100%;
            height: auto;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .button-home {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 24px;
        }
    </style>
</head>
<body>
    <div class="content">
        <div class="image-container">
            <img id="dynamicImage" src="" alt="Загрузка изображения...">
        </div>
        <h2 id="title">Заголовок</h2>
        <p id="description">Описание</p>
    </div>
    <!-- Кнопка возврата на главную -->
    <button class="button-home" onclick="goHome()">
        <i class="fa-solid fa-house"></i>
    </button>

    <script>
        // Ваши ключи
        const apiKeyNews = 'd828e3d2a1ac4e6a8761608f669ca58f'; // Пример вашего ключа
        const apiKeyWeather = 'ВАШ_API_KEY_WEATHER'; // Укажите ключ OpenWeather
        const apiKeyImages = 'ВАШ_API_KEY_IMAGES'; // Укажите ключ Unsplash
        const fallbackImage = 'https://via.placeholder.com/600x400?text=Нет+изображения';

        // Функция загрузки новостей
        async function fetchNews() {
            try {
                const response = await fetch(`https://newsapi.org/v2/top-headlines?country=no&apiKey=${apiKeyNews}`);
                const data = await response.json();
                if (data.articles.length > 0) {
                    return data.articles[Math.floor(Math.random() * data.articles.length)];
                } else {
                    throw new Error('Нет доступных новостей.');
                }
            } catch (error) {
                console.error('Ошибка загрузки новостей:', error);
                return { title: 'Ошибка', description: 'Не удалось загрузить новости.' };
            }
        }

        // Функция загрузки погоды
        async function fetchWeather() {
            try {
                const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=Oslo&appid=${apiKeyWeather}&units=metric&lang=ru`);
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('Ошибка загрузки погоды:', error);
                return { main: { temp: 'N/A' }, weather: [{ description: 'Ошибка загрузки погоды.' }] };
            }
        }

        // Функция загрузки изображения
        async function fetchImage(query) {
            try {
                const response = await fetch(`https://api.unsplash.com/photos/random?query=${query}&client_id=${apiKeyImages}`);
                const data = await response.json();
                return data.urls.regular || fallbackImage;
            } catch (error) {
                console.error('Ошибка загрузки изображения:', error);
                return fallbackImage;
            }
        }

        // Обновление контента
        async function updateContent() {
            const titleElement = document.getElementById('title');
            const descriptionElement = document.getElementById('description');
            const imageElement = document.getElementById('dynamicImage');

            titleElement.innerText = 'Загрузка...';
            descriptionElement.innerText = '';
            imageElement.src = '';try {
                const news = await fetchNews();
                const weather = await fetchWeather();
                const imageUrl = await fetchImage(news.title);

                titleElement.innerText = news.title || 'Новость отсутствует';
                descriptionElement.innerText = `
                    ${news.description || 'Описание отсутствует'}\n
                    Погода в Осло: ${weather.main.temp}°C, ${weather.weather[0].description}.
                `;
                imageElement.src = imageUrl;
            } catch (error) {
                console.error('Ошибка при обновлении контента:', error);
                titleElement.innerText = 'Ошибка';
                descriptionElement.innerText = 'Не удалось загрузить данные.';
                imageElement.src = fallbackImage;
            }
        }

        // Возврат на главную страницу
        function goHome() {
            window.location.href = 'index.html'; // Укажите путь к главной странице
        }

        // Обновление контента каждые 15 секунд
        setInterval(updateContent, 15000);

        // Первоначальная загрузка
        updateContent();
    </script>
</body>
</html>
