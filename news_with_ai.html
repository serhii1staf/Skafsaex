<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Актуальная информация</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .content {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px;
        }
        .image-container {
            width: 100%;
            max-width: 600px;
            margin-bottom: 20px;
        }
        .image-container img {
            width: 100%;
            height: auto;
        }
        .info {
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="content">
        <div class="image-container">
            <img id="dynamicImage" src="" alt="Изображение">
        </div>
        <div class="info">
            <h2 id="title">Заголовок</h2>
            <p id="description">Описание</p>
        </div>
    </div>

    <script>
        const apiKeyNews = 'YOUR_NEWS_API_KEY';
        const apiKeyWeather = 'YOUR_WEATHER_API_KEY';
        const apiKeyImages = 'YOUR_IMAGES_API_KEY';
        const apiKeySports = 'YOUR_SPORTS_API_KEY';
        const apiKeyFinance = 'YOUR_FINANCE_API_KEY';

        async function fetchNews() {
            const response = await fetch(`https://newsapi.org/v2/top-headlines?country=no&apiKey=${apiKeyNews}`);
            const data = await response.json();
            return data.articles[0];
        }

        async function fetchWeather() {
            const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=Oslo&appid=${apiKeyWeather}&units=metric&lang=ru`);
            const data = await response.json();
            return data;
        }

        async function fetchImage(query) {
            const response = await fetch(`https://api.unsplash.com/photos/random?query=${query}&client_id=${apiKeyImages}`);
            const data = await response.json();
            return data.urls.regular;
        }

        async function fetchSports() {
            const response = await fetch(`https://api.football-data.org/v2/matches?status=SCHEDULED&apiKey=${apiKeySports}`);
            const data = await response.json();
            return data.matches[0];
        }

        async function fetchFinance() {
            const response = await fetch(`https://api.exchangerate-api.com/v4/latest/USD`);
            const data = await response.json();
            return data;
        }

        async function updateContent() {
            try {
                const news = await fetchNews();
                const weather = await fetchWeather();
                const sports = await fetchSports();
                const finance = await fetchFinance();
                const imageUrl = await fetchImage(news.title);

                document.getElementById('title').innerText = news.title;
                document.getElementById('description').innerText = `
                    ${news.description}\n\n
                    Погода в Осло: ${weather.main.temp}°C, ${weather.weather[0].description}.\n\n
                    Следующий футбольный матч: ${sports.homeTeam.name} vs ${sports.awayTeam.name}.\n\n
                    Курс USD к EUR: ${finance.rates.EUR}.
                `;
                document.getElementById('dynamicImage').src = imageUrl;
            } catch (error) {
                console.error('Ошибка при обновлении контента:', error);
            }
        }

        updateContent();
        setInterval(updateContent, 15000);
    </script>
</body>
</html>
